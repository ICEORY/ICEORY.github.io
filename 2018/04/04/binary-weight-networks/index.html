<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="network quantization," />










<meta name="description" content="Although deep neural networks have shown great potential in several application domains including computer vision and speech recognition, it is hard to implement DNN methods in hardware with the limit">
<meta name="keywords" content="network quantization">
<meta property="og:type" content="article">
<meta property="og:title" content="BWN (Binary Weight Networks) and XNOR-Net">
<meta property="og:url" content="https://iceory.github.io/2018/04/04/binary-weight-networks/index.html">
<meta property="og:site_name" content="iceory&#39;s blog">
<meta property="og:description" content="Although deep neural networks have shown great potential in several application domains including computer vision and speech recognition, it is hard to implement DNN methods in hardware with the limit">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://iceory.github.io/2018/04/04/binary-weight-networks/binary-weight-networks/Binary%20Convolution.png">
<meta property="og:image" content="https://iceory.github.io/2018/04/04/binary-weight-networks/binary-weight-networks/Block%20of%20XNOR-Net.png">
<meta property="og:updated_time" content="2018-04-04T09:44:08.676Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BWN (Binary Weight Networks) and XNOR-Net">
<meta name="twitter:description" content="Although deep neural networks have shown great potential in several application domains including computer vision and speech recognition, it is hard to implement DNN methods in hardware with the limit">
<meta name="twitter:image" content="https://iceory.github.io/2018/04/04/binary-weight-networks/binary-weight-networks/Binary%20Convolution.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://iceory.github.io/2018/04/04/binary-weight-networks/"/>





  <title>BWN (Binary Weight Networks) and XNOR-Net | iceory's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">iceory's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iceory.github.io/2018/04/04/binary-weight-networks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iceory">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/iceory-logo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="iceory's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">BWN (Binary Weight Networks) and XNOR-Net</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-04T15:09:44+08:00">
                2018-04-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/network-quantization/" itemprop="url" rel="index">
                    <span itemprop="name">network quantization</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/04/04/binary-weight-networks/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/04/04/binary-weight-networks/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/04/04/binary-weight-networks/" class="leancloud_visitors" data-flag-title="BWN (Binary Weight Networks) and XNOR-Net">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <p>Although deep neural networks have shown great potential in several application domains including computer vision and speech recognition, it is hard to implement DNN methods in hardware with the limitation of storage, compute capabilities and battery power. The authors in this paper proposed two efficient approximation to the neural network: binary weight networks (BWN) and XNOR-Networks. In binary weight networks, all the weights are approximated with binary values. While in XNOR-Networks, both the weights and the inputs to the convolutional layers and fully connected layers are approximated with binary values. The authors also attempted to evaluate their methods on large scale data sets like ImageNet, and proved that their methods outperform baseline for about 16.3%. <a href="https://github.com/allenai/XNOR-Net" target="_blank" rel="noopener">Source code is available on GitHub</a>.</p>
<h2 id="Binary-Weight-Networks"><a href="#Binary-Weight-Networks" class="headerlink" title="Binary Weight Networks"></a>Binary Weight Networks</h2><p>Represent an $L$-layer DNN model with a triplet $&lt;\mathcal{I, W}, * &gt;$. Each element $I=\mathcal{I}_{l(l=1,\cdots,L)}$ in $\mathcal{I}$ is the input tensor of the $l^{th}$ layer, $W=\mathcal{W}_{lk(k=1,\cdots, K^l)}$ is the $k^{th}$ weight filter in the $l^{th}$ layer of DNN. $*$ represents convolutional operation with $I$ and $W$. Note that the authors assume the convolutional layers in the network do not have bias terms. Thus the convolutional operation can be approximated by $I*W\approx(I\oplus B)\alpha$, where $\oplus$ indicates a convolution without multiplication, $B=\mathcal{B}_{lk}$ is a binary filter $\alpha=\mathcal{A}_{lk}$ is an scale factor and $\mathcal{W}\approx\mathcal{A}_{lk}\mathcal{B}_{lk}$.<br><a id="more"></a><br>The optimized objective function is shown as follows:<br>$$<br>J(B,\alpha) = | W-\alpha B |^2 \\<br>\alpha^*, \beta^* = \arg\min_{\alpha, B} J(B,\alpha) \tag{1}<br>$$<br>By solving the objective function mentioned above, we get:<br>$$<br>B^* = sign(W) \\<br>\alpha^* = \frac{1}{n} |W|_{l1} \tag{2}<br>$$</p>
<h3 id="Proof-1-solve-objective-function"><a href="#Proof-1-solve-objective-function" class="headerlink" title="Proof 1: solve objective function"></a>Proof 1: solve objective function</h3><p>$$<br>J(B,\alpha) = | W-\alpha B |^2 = \alpha^2B^\intercal B - 2\alpha W^\intercal B + W^\intercal W \tag{3}<br>$$</p>
<p>Since $B\in{+1, -1}^n, B^\intercal B=n$ are constants, and $W^\intercal W$ is also constant as $W$ is a known value. Thus the Equation (3) can be re-written as:<br>$$<br>J(B,\alpha) =\alpha^2n-2\alpha W^\intercal B+c \tag{4}<br>$$<br>Note that $\alpha$ is a positive value in Equation (4), then the solution of $B^*$ is:<br>$$<br>B^* = \arg\min_B{W^\intercal B}~~s.t. B\in{+1, -1}^n \\<br>B* = sign(W) \tag{5}<br>$$<br>Take the derivative of $J$, we have:<br>$$<br>\frac{\partial J}{\partial\alpha} = 2\alpha n-2W^\intercal B = 0 \\<br>\alpha^* = \frac{W^\intercal B^*}{n} = \frac{W^\intercal sign(W)}{n} = \frac{\sum |W_i|}{n} = \frac{1}{n}|W|_{l1} \tag{6}<br>$$</p>
<h3 id="Implementation-in-PyTorch"><a href="#Implementation-in-PyTorch" class="headerlink" title="Implementation in PyTorch"></a>Implementation in PyTorch</h3><p><strong>Prepare: </strong> pre-train a DNN model (the authors did not mention that they use a pre-trained model or training from scratch)</p>
<p><strong>Step 1, quantization:</strong> quantize weights of convolutional layers using Equation (2)</p>
<p><strong>Step 2, training:</strong> apply standard forward and backward propagation to the network</p>
<p><strong>Step 3, update parameters:</strong> update parameters with standard SGD</p>
<p><strong>Repeat:</strong> repeat step 1 to step 3 until reach max iterations</p>
<p>Note that weights in BWN are still floating-point as the author use $\alpha B$ to approximate $W$. $\alpha$ is the mean of weights in every convolutional layer. The main idea of the authors is computing the best approximation of weights. However, optimal approximation to weights do not means optimal approximation to the final outputs of the network. Thus this kinds of methods may still lead to high loss of accuracy.</p>
<h2 id="XNOR-Networks"><a href="#XNOR-Networks" class="headerlink" title="XNOR-Networks"></a>XNOR-Networks</h2><p>Based on the proposed binary weight networks, the authors further explore the method to binarize both weights and inputs. Convolutional operation consist of shift operation and dot product, and if the dot product can be expressed by binary operations, then convolution can be approximated using binary operations. The approximation of dot product between $X, W\in \mathbb{R}^n$ can be expressed by $X^\intercal W\approx \beta H^\intercal \alpha B$, where $H,B\in {+1,-1}^n$ and $\beta, \alpha\in \mathbb{R}^+$, then the optimized objective function is:<br>$$<br>\alpha^*,B^*, \beta^*, H^* = \arg\min_{\alpha, B,\beta, H} | X\odot W - \beta\alpha H\odot B|, \tag{7}<br>$$<br>where $\odot$ indicates the element-wise product. Define $Y\in\mathbb{R}^n$ such that $Y_i = X_i W_i,~C\in{+1,-1}^n$ such that $C_i=H_i B_i$ and $\gamma\in\mathbb{R}^n$ such that $\gamma=\beta\alpha$. Equation (7) can be written as:<br>$$<br>\gamma^*, C^* = \arg\min_{\gamma,C}|Y-\gamma C| \tag{8}<br>$$<br>Similar to the Equation (6), the optimal solutions of Equation (8) are shown as follows:<br>$$<br>C^* = sign(Y) = sign(X)\odot sign(W) = H^* \odot B^* \\<br>\gamma^* = \frac{\sum{|Y_i|}}{n}=\frac{\sum{|X_i||W_i|}}{n} \approx(\frac{1}{n}|X|_{l1})(\frac{1}{n}|W|_{l1}) = \beta^*\alpha^* \\<br>H^* = sign(X) \\<br>B^* = sign(W) \\<br>\beta^*= \frac{1}{n}|X|_{l1} \\<br>\alpha^*= \frac{1}{n}|W|_{l1} \tag{9}<br>$$</p>
<h3 id="Binary-Convolution"><a href="#Binary-Convolution" class="headerlink" title="Binary Convolution"></a>Binary Convolution</h3><p><img src="binary-weight-networks/Binary Convolution.png" alt="Binary Convolution"></p>
<p>With the binary weights and binary inputs of convolutional layer, the convolution operations can be approximated using binary operations:<br>$$<br>I*W \approx (sign(I)\circledast sign(W)) \odot K\alpha \tag{10}<br>$$<br>where $\circledast$ indicates a convolutional operation using XNOR and bit-count operations, $K$ contains scale factors $\beta$ for all sub-tensors in input $I$.</p>
<p>The authors suggested that applying pooling on binary input results in significant loss of information, thus they changed the standard convolutional blocks to pre-activated version.</p>
<p><img src="binary-weight-networks/Block of XNOR-Net.png" alt="Block of XNOR-Net"></p>
<p><strong>Binary Gradient:</strong> similar to the binarization in the forward pass, the gradient in the backward pass can also be binarized. To preserve the maximum change of gradient, the authors use $\max_i(|g_i^{in}|)$ as the scale factor.</p>
<p><strong>$k$-bit Quantization:</strong> the authors also mentioned that 1-bit quantization of weights can also be converted to k-bit quantization by using $q_k(x)=2(\frac{[(2^k-1)(\frac{x+1}{2})]}{2^k-1}-\frac{1}{2}$ instead of $sign(x)$ function, where $[\cdot]$ indicates rounding operation and $x\in [-1,1]$. </p>
<h3 id="Implementation-in-PyTorch-1"><a href="#Implementation-in-PyTorch-1" class="headerlink" title="Implementation in PyTorch"></a>Implementation in PyTorch</h3><p>The implementation of XNOR-Net is similar to those of BWN which including three steps: quantization, forward propagation and backward propagation.</p>
<h3 id="Experimental-Results"><a href="#Experimental-Results" class="headerlink" title="Experimental Results"></a>Experimental Results</h3><p>In this paper, the authors conducted experiments on AlexNet and ResNet and validated the proposed methods using validation data set of ImageNet with single crop. The optimization method used in there experiments is ADAM as it can converge faster and have better performance with binary inputs. Experimental results are shown as follows:</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Top-1 Accuracy/ Top-5 Accuracy</th>
<th>Accuracy Loss</th>
</tr>
</thead>
<tbody>
<tr>
<td>AlexNet reference</td>
<td>56.6% / 80.2%</td>
<td></td>
</tr>
<tr>
<td>AlexNet BC</td>
<td>35.4% / 61.0%</td>
<td>-21.2% / -19.2%</td>
</tr>
<tr>
<td>AlexNet BWN</td>
<td>56.8% / 79.4%</td>
<td>0.2% / -0.8%</td>
</tr>
<tr>
<td>AlexNet BNN</td>
<td>27.9 % / 50.42%</td>
<td>-28.7% / -29.78%</td>
</tr>
<tr>
<td>AlexNet XNOR-Net</td>
<td>44.2% / 69.2%</td>
<td>-12.4% / -11%</td>
</tr>
<tr>
<td>ResNet-18 reference</td>
<td>69.3% / 89.2%</td>
<td></td>
</tr>
<tr>
<td>ResNet-18 BWN</td>
<td>60.8% / 83.0%</td>
<td>-8.5% / -5.8%</td>
</tr>
<tr>
<td>ResNet-18 XNOR-Net</td>
<td>51.2% / 73.2%</td>
<td>-18.1% / -16%</td>
</tr>
<tr>
<td>GoogLeNet reference</td>
<td>71.3% / 90.0%</td>
<td></td>
</tr>
<tr>
<td>GoogLeNet BWN</td>
<td>65.5% / 86.1%</td>
<td>-5.8% / -3.9%</td>
</tr>
</tbody>
</table>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    iceory
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://iceory.github.io/2018/04/04/binary-weight-networks/" title="BWN (Binary Weight Networks) and XNOR-Net">https://iceory.github.io/2018/04/04/binary-weight-networks/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/network-quantization/" rel="tag"># network quantization</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/04/binarized-neural-networks/" rel="next" title="BNN (Binarized Neural Networks)">
                <i class="fa fa-chevron-left"></i> BNN (Binarized Neural Networks)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/04/提交文件命名/" rel="prev" title="提交文件命名">
                提交文件命名 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/iceory-logo.jpg"
                alt="iceory" />
            
              <p class="site-author-name" itemprop="name">iceory</p>
              <p class="site-description motion-element" itemprop="description">宠辱不惊，闲看庭前花开花落；去留无意，漫随天外云卷云舒。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">32</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ICEORY" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:z.zhuangwei@mail.scut.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary-Weight-Networks"><span class="nav-number">1.</span> <span class="nav-text">Binary Weight Networks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Proof-1-solve-objective-function"><span class="nav-number">1.1.</span> <span class="nav-text">Proof 1: solve objective function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Implementation-in-PyTorch"><span class="nav-number">1.2.</span> <span class="nav-text">Implementation in PyTorch</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XNOR-Networks"><span class="nav-number">2.</span> <span class="nav-text">XNOR-Networks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-Convolution"><span class="nav-number">2.1.</span> <span class="nav-text">Binary Convolution</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Implementation-in-PyTorch-1"><span class="nav-number">2.2.</span> <span class="nav-text">Implementation in PyTorch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Experimental-Results"><span class="nav-number">2.3.</span> <span class="nav-text">Experimental Results</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iceory</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'fLC2xKQy01MKAEvUniqjfKLd-gzGzoHsz',
        appKey: 'B2XgsMGRFngBgt8GCVjVkPAQ',
        placeholder: '欢迎留言~(> v <)~',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("fLC2xKQy01MKAEvUniqjfKLd-gzGzoHsz", "B2XgsMGRFngBgt8GCVjVkPAQ");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
